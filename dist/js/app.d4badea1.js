(function(t){function e(e){for(var a,c,s=e[0],i=e[1],l=e[2],u=0,p=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},r=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-01162f9c":"ad8146e4","chunk-0663619c":"14d8d70f","chunk-066739bc":"1a534b5f","chunk-068a4158":"30b4ddf4","chunk-2d0c1040":"4ca26a6c","chunk-2d0cf4c3":"b38076ef","chunk-2d0cf503":"80f31682","chunk-2d0de01f":"c945cd75","chunk-2d209561":"553052e1","chunk-433519de":"a4146ef6","chunk-574b1170":"c181590e","chunk-5f1f2773":"53824d6c","chunk-762bd5f8":"ec08e779","chunk-7e8229d7":"71363a08","chunk-7e82349f":"2917f0b4"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=a);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=c(t);var l=new Error;r=function(e){i.onerror=i.onload=null,clearTimeout(u);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}o[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/CLOSET_VUE/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("5530"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),r=[],c=(n("5c0b"),n("2877")),s={},i=Object(c["a"])(s,o,r,!1,null,null,null),l=i.exports,u=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b0e")),d=n("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[a("template",{slot:"default"},[a("img",{attrs:{src:n("f8b2"),alt:"loadingPhoto"}})])],2),a("WebHeader"),a("Alert"),a("router-view"),a("GoTop"),a("WebFooter")],1)},f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sticky-top"},[n("div",{staticClass:"headerWrap container-fluid  px-0",class:{active:t.show}},[n("div",{staticClass:"header d-flex align-items-center "},[n("h1",{staticClass:"mt-2"},[n("router-link",{staticClass:"d-inline-block logo",attrs:{to:"/"}},[t._v("Closet")])],1),n("nav",{staticClass:"navbar py-0"},[n("ul",{staticClass:"pageNav pl-0 mb-1"},[n("li",[n("router-link",{staticClass:"px-4 py-2 d-inline-block",attrs:{to:"/"}},[t._v("Home")])],1),n("li",[n("router-link",{staticClass:"px-4 py-2 d-inline-block",attrs:{to:"/products"}},[t._v("Product")])],1),n("li",[n("router-link",{staticClass:"px-4 py-2 d-inline-block",attrs:{to:"/customer-coupon"}},[t._v("Coupon")])],1),n("li",[n("router-link",{staticClass:"px-4 py-2 d-inline-block",attrs:{to:"/faq"}},[t._v("FAQ")])],1)]),n("ul",{staticClass:"d-flex iconGroup mb-1"},[n("li",[n("a",{staticClass:"cartIcon px-3 py-2 dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown","aria-haspopup":"true"}},[n("i",{staticClass:"fas fa-shopping-cart"}),n("span",{staticClass:"cartCount",class:{"d-none":0===t.carts.length}},[t._v(t._s(t.carts.length))])]),n("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[0!==t.carts.length?n("table",{staticClass:"table table-borderless"},[t._m(0),n("tbody",t._l(t.carts,(function(e){return n("tr",{key:e.product_id},[n("td",{staticClass:"text-truncate"},[n("router-link",{attrs:{to:{name:"productDetail",params:{productId:e.product_id}},title:e.title}},[t._v(" "+t._s(e.title)+" ")])],1),n("td",{staticClass:"text-center"},[t._v(t._s(e.qty))]),n("td",{staticClass:"text-center"},[t._v(t._s(t._f("currency")(parseInt(e.price)*e.qty)))]),n("td",{attrs:{width:"150"}},[n("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(n){return t.deleteStorage(e)}}},[n("i",{staticClass:"fas fa-trash-alt"})])])])})),0),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"6"}},[n("div",{staticClass:"text-center"},[n("router-link",{staticClass:"goCart btn btn-outline-warning",attrs:{to:"/cart"}},[t._v("查看購物車")])],1)])])])]):t._e(),n("small",[0===t.carts.length?n("router-link",{staticClass:"nav-link empty",attrs:{to:"/products"}},[n("i",{staticClass:"far fa-hand-point-right"}),t._v(" 更多精選商品，立即前往挑選 "),n("i",{staticClass:"far fa-hand-point-left"})]):t._e()],1)])]),n("li",[n("router-link",{staticClass:"px-3 py-2",attrs:{to:"/collect"}},[n("i",{staticClass:"fas fa-heart"})])],1),n("li",[n("router-link",{staticClass:"px-3 py-2",attrs:{to:"/login"}},[n("i",{staticClass:"fas fa-user"})])],1),n("li",[n("a",{staticClass:"hamIcon d-done ml-2 mt-1",attrs:{href:"#"},on:{click:function(e){t.show=!t.show}}},[n("span")])])])])]),n("nav",{staticClass:"sideNav"},[n("ul",{staticClass:"pl-0"},[n("li",[n("router-link",{staticClass:"d-block px-3 py-3",attrs:{to:"/"},on:{click:function(e){t.show=!t.show}}},[t._v("Home")])],1),n("li",[n("router-link",{staticClass:"d-block px-3 py-3",attrs:{to:"/products"},on:{click:function(e){t.show=!t.show}}},[t._v("Product")])],1),n("li",[n("router-link",{staticClass:"d-block px-3 py-3",attrs:{to:"/customer-coupon"},on:{click:function(e){t.show=!t.show}}},[t._v("Coupon")])],1),n("li",[n("router-link",{staticClass:"d-block px-3 py-3",attrs:{to:"/faq"},on:{click:function(e){t.show=!t.show}}},[t._v("FAQ")])],1)])])])])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("th",[t._v("名稱")]),n("th",{staticClass:"text-nowrap text-center"},[t._v("數量")]),n("th",{staticClass:"text-center"},[t._v("價格")]),n("th",{staticClass:"text-nowrap text-center"},[t._v("刪除")])])}],b={data:function(){return{show:!1}},methods:{deleteStorage:function(t){this.$store.dispatch("deleteStorage",t),this.$bus.$emit("messagePush","已自購物車中移除","warning")}},computed:{carts:function(){return this.$store.state.carts}}},v=b,g=Object(c["a"])(v,h,m,!1,null,null,null),C=g.exports,k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",{staticClass:"container-fluid bg-primary"},[n("ul",{staticClass:"d-flex justify-content-center pl-0 mb-0 mr-auto"},[n("li",[n("a",{staticClass:"d-block px-2 pb-2 text-white",attrs:{href:"#",target:"_blank"}},[n("i",{staticClass:"fab fa-instagram"})])]),n("li",[n("a",{staticClass:"d-block px-2 pb-2 text-white",attrs:{href:"#",target:"_blank"}},[n("i",{staticClass:"fab fa-facebook-square"})])]),n("li",[n("a",{staticClass:"d-block px-2 pb-2 text-white",attrs:{href:"#",target:"_blank"}},[n("i",{staticClass:"fab fa-twitter-square"})])])]),n("small",{staticClass:"text-center d-block"},[t._v(" ©僅個人練習使用，不做任何商業用途 ")])])])}],y={},x=Object(c["a"])(y,k,_,!1,null,null,null),w=x.exports,O=n("98ab"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-right"},[n("a",{staticClass:"goTop p-4 preFadein",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scrollTop.apply(null,arguments)}}},[n("i",{staticClass:"far fa-arrow-alt-circle-up"})])])},A=[],T=n("1157"),S=n.n(T),j={name:"GoTop",methods:{scrollTop:function(){window.scrollTo({top:0,behavior:"smooth"})}},created:function(){S()(window).scroll((function(){var t=S()(window).scrollTop();t>100?S()(".goTop").addClass("fadeIn"):S()(".goTop").removeClass("fadeIn")}))}},I=j,q=Object(c["a"])(I,E,A,!1,null,null,null),L=q.exports,P={name:"Front",components:{WebHeader:C,Alert:O["a"],WebFooter:w,GoTop:L},computed:{isLoading:function(){return this.$store.state.isLoading}}},G=P,$=Object(c["a"])(G,p,f,!1,null,null,null),D=$.exports;u["default"].use(d["a"]);var M=[{path:"*",redirect:"/"},{path:"/",component:D,children:[{path:"",name:"Home",component:function(){return n.e("chunk-762bd5f8").then(n.bind(null,"ec5a"))}},{path:"products",name:"Products",component:function(){return n.e("chunk-433519de").then(n.bind(null,"ed84"))}},{path:"productDetail/:productId",name:"productDetail",component:function(){return n.e("chunk-01162f9c").then(n.bind(null,"5356"))}},{path:"cart",name:"Cart",component:function(){return n.e("chunk-2d0cf4c3").then(n.bind(null,"62b3"))}},{path:"customer-order",name:"customerOrder",component:function(){return n.e("chunk-066739bc").then(n.bind(null,"a2e7"))}},{path:"customer-checkout/:orderId",name:"CustomerCheckout",component:function(){return n.e("chunk-0663619c").then(n.bind(null,"e9fe"))}},{path:"complete-order",name:"CompleteOrder",component:function(){return n.e("chunk-068a4158").then(n.bind(null,"9a7d"))}},{path:"customer-coupon",name:"CustomerCoupon",component:function(){return n.e("chunk-5f1f2773").then(n.bind(null,"5649"))}},{path:"collect",name:"Collect",component:function(){return n.e("chunk-2d0de01f").then(n.bind(null,"848e"))}},{path:"faq",name:"FAQ",component:function(){return n.e("chunk-2d0c1040").then(n.bind(null,"43f1"))}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-2d0cf503").then(n.bind(null,"62d5"))}},{path:"/admin",name:"Admin",component:function(){return n.e("chunk-2d209561").then(n.bind(null,"a92e"))},meta:{requiresAuth:!0},children:[{path:"product",name:"AdminProduct",component:function(){return n.e("chunk-7e82349f").then(n.bind(null,"afb9"))},meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:function(){return n.e("chunk-574b1170").then(n.bind(null,"73a8"))},meta:{requiresAuth:!0}},{path:"order",name:"AdminOrder",component:function(){return n.e("chunk-7e8229d7").then(n.bind(null,"acf8"))},meta:{requiresAuth:!0}}]}],N=new d["a"]({linkExactActiveClass:"active",scrollBehavior:function(){return{x:0,y:0}},routes:M});N.beforeEach((function(t,e,n){if(t.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");u["default"].axios.post(a).then((function(t){t.data.success?n():n({path:"/login"})}))}else n()}));var R=N,F=(n("a9e3"),n("ac1f"),n("5319"),n("b680"),function(t){var e=Number(t)||0;return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,n){var a=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a})))}),V=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()};u["default"].prototype.$bus=new u["default"];n("4989");var W=n("bc3a"),J=n.n(W),H=n("130e"),Q=n("9062"),U=n.n(Q),z=(n("e40d"),n("caf9")),B=n("7bb1"),K=n("4c93"),X=n("60d4"),Y=n("7212"),Z=n.n(Y),tt=n("6d3b"),et=n("8343"),nt=n("5dc8"),at=n("d17a"),ot=(n("bbe3"),n("159b"),n("a434"),n("99af"),n("2f62"));u["default"].use(ot["a"]);var rt=new ot["a"].Store({state:{carts:JSON.parse(localStorage.getItem("carts"))||[],apiCarts:[],isLoading:!1},mutations:{LOADING:function(t,e){t.isLoading=e},SAVESTORAGE:function(t,e){var n=[];t.carts.forEach((function(t){n.push(t.product_id)})),-1===n.indexOf(e.product_id)||t.carts.forEach((function(n,a){n.product_id===e.product_id&&(e.qty=parseInt(e.qty)+parseInt(n.qty),t.carts.splice(a,1))})),t.carts.push(e),localStorage.setItem("carts",JSON.stringify(t.carts))},REMOVESTORAGE:function(t,e){var n=t.carts.indexOf(e);t.carts.splice(n,1),localStorage.setItem("carts",JSON.stringify(t.carts))},UPDATESTORAGE:function(t,e){t.carts.forEach((function(n,a){n.product_id===e.item.product_id&&(e.item.qty=parseInt(e.item.qty)+parseInt(e.num),t.carts.splice(a,1))})),t.carts.push(e.item),localStorage.setItem("carts",JSON.stringify(t.carts))},GETCART:function(t,e){t.apiCarts=e}},actions:{isLoading:function(t,e){t.commit("LOADING",e)},addStorage:function(t,e){t.commit("LOADING",!0),t.commit("SAVESTORAGE",e),t.commit("LOADING",!1)},deleteStorage:function(t,e){t.commit("REMOVESTORAGE",e)},updateStorage:function(t,e){var n=e.item,a=e.num;t.commit("LOADING",!0),t.commit("UPDATESTORAGE",{item:n,num:a}),t.commit("LOADING",!1)},addCart:function(t){var e=this,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("storepract","/cart");console.dir(e.state.apiCarts,"要刪除的暫存"),0!==e.state.apiCarts.length&&e.state.apiCarts.carts.forEach((function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("storepract","/cart/").concat(t.id);J.a.delete(e).then((function(t){t.data.success&&console.log(t.data)})).catch((function(t){console.log(t)}))})),e.state.carts.forEach((function(e){var a={product_id:e.product_id,qty:e.qty};J.a.post(n,{data:a}).then((function(e){e.data.success&&t.dispatch("getCart")})).catch((function(t){console.log(t)}))}))},getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("storepract","/cart");J.a.get(e).then((function(e){e.data.success&&t.commit("GETCART",e.data.data)})).catch((function(t){console.log(t)}))}}});u["default"].use(Z.a),tt["a"].use([et["a"],nt["a"],at["a"]]),Object(B["d"])("email",K["a"]),Object(B["d"])("required",Object(a["a"])(Object(a["a"])({},K["b"]),{},{message:"這個{_field_}欄位為必填"})),Object(B["e"])("zh_TW",X),u["default"].component("ValidationObserver",B["a"]),u["default"].component("ValidationProvider",B["b"]),Object(B["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),u["default"].use(H["a"],J.a),u["default"].use(z["a"]),u["default"].config.productionTip=!1,u["default"].component("Loading",U.a),u["default"].filter("currency",F),u["default"].filter("date",V),u["default"].component("ValidationProvider",B["b"]),new u["default"]({router:R,store:rt,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"82d5":function(t,e,n){"use strict";n("dccc")},"98ab":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,a){return n("div",{key:a,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(a)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},o=[],r=(n("a434"),n("159b"),{data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var n=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:n}),this.removeMessageWithTiming(n)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(n,a){n.timestamp===t&&e.messages.splice(a,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("messagePush",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,n)}))}}),c=r,s=(n("82d5"),n("2877")),i=Object(s["a"])(c,a,o,!1,null,null,null);e["a"]=i.exports},"9c0c":function(t,e,n){},dccc:function(t,e,n){},f8b2:function(t,e,n){t.exports=n.p+"img/loading.af2fd97c.gif"}});
//# sourceMappingURL=app.d4badea1.js.map