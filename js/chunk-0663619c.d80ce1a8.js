(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0663619c"],{"70d5":function(t,s,a){"use strict";var r=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"mb-4"},[a("ul",{staticClass:"nav orderNav justify-content-around",on:{click:function(t){t.preventDefault()}}},[t._m(0),t._m(1),t._m(2)]),a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar bg-warning",style:{width:t.progress+"%"},attrs:{role:"progressbar","aria-valuenow":t.progress,"aria-valuemin":"0","aria-valuemax":"100"}})])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("訂單建立")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("確認付款")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("訂單完成")])])}],i={name:"orderNav",props:["progress"]},c=i,o=a("2877"),l=Object(o["a"])(c,r,e,!1,null,null,null);s["a"]=l.exports},e9fe:function(t,s,a){"use strict";a.r(s);var r=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"checkOut"},[a("div",{staticClass:"container order text-primary"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7 col p-4 m-auto"},[a("OrderNav",{attrs:{progress:t.progress}}),a("button",{staticClass:"btn rounded-0 btn-sm text-primary showdata",attrs:{type:"button"},on:{click:function(s){t.open=!t.open}}},[t._v(" + 展開訂單明細 ")]),a("div",{staticClass:"table-responsive orderList",class:{show:t.open}},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.order.products,(function(s,r){return a("tr",{key:r},[a("td",{staticClass:"d-flex"},[a("img",{attrs:{src:s.product.imageUrl,alt:"productPhoto"}}),a("div",{staticClass:"d-inline-block pl-2 text-primary"},[a("router-link",{attrs:{to:{name:"productDetail",params:{productId:s.product_id}}}},[t._v(t._s(s.product.title))]),a("br"),t._v(" "+t._s(s.qty)+" "+t._s(s.product.unit)+" ")],1)]),a("td",{staticClass:"text-right d-none d-md-table-cell",class:{delete:s.total!==s.final_total}},[t._v(" "+t._s(t._f("currency")(s.total))+"元 ")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(s.final_total))+"元")])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right bg-primary text-white h5",attrs:{colspan:"4"}},[t._v(" 總金額 "+t._s(t._f("currency")(t.order.total))+"元 ")])])])])]),a("div",{staticClass:"my-4"},[a("h6",{staticClass:"py-2"},[t._v("訂購人資訊")]),a("div",{staticClass:"row py-1"},[a("div",{staticClass:"col-4"},[t._v("姓名")]),a("div",{staticClass:"col-6"},[t._v(t._s(t.order.user.name))])]),a("div",{staticClass:"row py-1"},[a("div",{staticClass:"col-4"},[t._v("電話")]),a("div",{staticClass:"col-6"},[t._v(t._s(t.order.user.tel))])]),a("div",{staticClass:"row py-1"},[a("div",{staticClass:"col-4"},[t._v("收件地址")]),a("div",{staticClass:"col-6"},[t._v(t._s(t.order.user.address))])]),a("div",{staticClass:"row py-1"},[a("div",{staticClass:"col-4"},[t._v("電子信箱")]),a("div",{staticClass:"col-6"},[t._v(t._s(t.order.user.email))])]),a("div",{staticClass:"row py-1"},[a("div",{staticClass:"col-4"},[t._v("訂單編號")]),a("div",{staticClass:"col-6"},[t._v(t._s(t.order.id))])]),a("div",{staticClass:"row py-1"},[a("div",{staticClass:"col-4"},[t._v("訂單建立時間")]),a("div",{staticClass:"col-6"},[t._v(t._s(t._f("date")(t.order.create_at)))])])]),a("div",{staticClass:"mt-4 text-right"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.completeOrder.apply(null,arguments)}}},[t._v(" 確認付款 ")])])],1)])])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("th",[t._v("商品資訊")]),a("th",{staticClass:"d-none d-md-table-cell"},[t._v("價格")]),a("th",[t._v("小計")])])}],i=(a("99af"),a("70d5")),c={name:"CustomerCheckout",components:{OrderNav:i["a"]},data:function(){return{order:{products:[],user:{}},open:!1,progress:66}},methods:{getOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("storepract","/order/").concat(t.$route.params.orderId);t.$store.dispatch("isLoading",!0),t.$http.get(s).then((function(s){s.data.success&&(t.order=s.data.order,t.$store.dispatch("isLoading",!1))})).catch((function(s){t.$store.dispatch("isLoading",!1),t.$bus.$emit("messagePush",s,"warning")}))},completeOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("storepract","/pay/").concat(t.$route.params.orderId);t.$http.post(s).then((function(s){s.data.success&&t.$router.push({path:"/complete-order"})})).catch((function(s){t.$bus.$emit("messagePush",s,"warning")}))}},created:function(){var t=this;t.getOrder()}},o=c,l=a("2877"),n=Object(l["a"])(o,r,e,!1,null,null,null);s["default"]=n.exports}}]);
//# sourceMappingURL=chunk-0663619c.d80ce1a8.js.map