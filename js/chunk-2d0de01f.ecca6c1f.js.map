{"version":3,"sources":["webpack:///./src/views/front/Collect.vue?1d3d","webpack:///src/views/front/Collect.vue","webpack:///./src/views/front/Collect.vue?d44a","webpack:///./src/views/front/Collect.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","len","_l","item","key","id","attrs","name","params","productId","imageUrl","_v","_s","title","on","$event","preventDefault","deleteFav","_f","price","origin_price","_e","addStorage","staticRenderFns","data","favItems","JSON","parse","localStorage","getItem","favItemsId","tempProduct","methods","vm","product_id","qty","unit","$store","dispatch","$bus","$emit","splice","idNum","setItem","stringify","created","length","beforeUpdate","component"],"mappings":"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","file":"js/chunk-2d0de01f.ecca6c1f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"container\"},[(_vm.len !== 0)?[_c('ul',{staticClass:\"d-flex flex-wrap favItems-list autoPlay\"},_vm._l((_vm.favItems),function(item){return _c('li',{key:item.id,staticClass:\"my-3\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"img\"},[_c('router-link',{attrs:{\"to\":{\n                  name: 'productDetail',\n                  params: { productId: (\"\" + (item.id)) },\n                }}},[_c('img',{staticClass:\"card-img-top\",attrs:{\"src\":item.imageUrl,\"alt\":\"product photo\"}}),_c('button',{staticClass:\"btn btn-outline-light\",attrs:{\"type\":\"button\"}},[_vm._v(\" More \")])])],1),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"card-title text-primary d-flex justify-content-between\"},[_c('h5',[_vm._v(_vm._s(item.title))]),_c('a',{staticClass:\"deleteIcon\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteFav(item)}}},[_c('i',{staticClass:\"fas fa-times\"})])]),_c('div',{staticClass:\"\\n                  card-text\\n                  d-flex\\n                  justify-content-between\\n                  align-items-center\\n                \"},[_c('p',{staticClass:\"h5 text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.price))+\"元\")]),(item.origin_price)?_c('div',{staticClass:\"text-secondary\"},[_c('s',[_vm._v(_vm._s(_vm._f(\"currency\")(item.origin_price))+\"元\")])]):_vm._e()])]),_c('div',{staticClass:\"addcart text-center mb-3\"},[_c('button',{staticClass:\"btn btn-outline-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addStorage(item)}}},[_vm._v(\" 加到購物車 \")])])])])}),0)]:[_c('div',{staticClass:\"\\n          emptyCollect\\n          d-flex\\n          flex-column\\n          justify-content-center\\n          align-items-center\\n          autoPlay\\n        \"},[_c('p',{staticClass:\"text-primary my-3\"},[_vm._v(\"小幫手發現您還沒收藏任何商品哦～\")]),_c('router-link',{staticClass:\"btn btn-lg\\n          btn-outline-warning\",attrs:{\"to\":\"/products\"}},[_c('i',{staticClass:\"far fa-hand-point-right\"}),_vm._v(\" 點我來去逛逛！ \"),_c('i',{staticClass:\"far fa-hand-point-left\"})])],1)]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <section class=\"container\">\r\n      <template v-if=\"len !== 0\">\r\n        <ul class=\"d-flex flex-wrap favItems-list autoPlay\">\r\n          <li v-for=\"item in favItems\" :key=\"item.id\" class=\"my-3\">\r\n            <div class=\"card\">\r\n              <div class=\"img\">\r\n                <router-link\r\n                  :to=\"{\r\n                    name: 'productDetail',\r\n                    params: { productId: `${item.id}` },\r\n                  }\"\r\n                >\r\n                  <img\r\n                    :src=\"item.imageUrl\"\r\n                    class=\"card-img-top\"\r\n                    alt=\"product photo\"\r\n                  />\r\n                  <button type=\"button\" class=\"btn btn-outline-light\">\r\n                    More\r\n                  </button>\r\n                </router-link>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div\r\n                  class=\"card-title text-primary d-flex justify-content-between\"\r\n                >\r\n                  <h5>{{ item.title }}</h5>\r\n                  <a\r\n                    href=\"#\"\r\n                    class=\"deleteIcon\"\r\n                    @click.prevent=\"deleteFav(item)\"\r\n                    ><i class=\"fas fa-times\"></i\r\n                  ></a>\r\n                </div>\r\n                <div\r\n                  class=\"\r\n                    card-text\r\n                    d-flex\r\n                    justify-content-between\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  <p class=\"h5 text-danger\">{{ item.price | currency }}元</p>\r\n                  <div class=\"text-secondary\" v-if=\"item.origin_price\">\r\n                    <s>{{ item.origin_price | currency }}元</s>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"addcart text-center mb-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-warning\"\r\n                  @click=\"addStorage(item)\"\r\n                >\r\n                  加到購物車\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </template>\r\n      <!-- 未關注任何商品時顯示 -->\r\n      <template v-else>\r\n        <div\r\n          class=\"\r\n            emptyCollect\r\n            d-flex\r\n            flex-column\r\n            justify-content-center\r\n            align-items-center\r\n            autoPlay\r\n          \"\r\n        >\r\n          <p class=\"text-primary my-3\">小幫手發現您還沒收藏任何商品哦～</p>\r\n          <router-link to=\"/products\" class=\"btn btn-lg\r\n            btn-outline-warning\"\r\n          >\r\n            <i class=\"far fa-hand-point-right\"></i>\r\n            點我來去逛逛！\r\n            <i class=\"far fa-hand-point-left\"></i>\r\n          </router-link>\r\n        </div>\r\n      </template>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Collect\",\r\n  data () {\r\n    return {\r\n      favItems: JSON.parse(localStorage.getItem(\"favItems\")) || [],\r\n      favItemsId: JSON.parse(localStorage.getItem(\"favItemsId\")) || [],\r\n      len: 0,\r\n      tempProduct: {}\r\n    };\r\n  },\r\n  methods: {\r\n    addStorage (item) {\r\n      // 加入購物車\r\n      const vm = this;\r\n      vm.tempProduct = {\r\n        product_id: item.id,\r\n        qty: 1,\r\n        imageUrl: item.imageUrl,\r\n        origin_price: item.origin_price,\r\n        price: item.price,\r\n        title: item.title,\r\n        unit: item.unit\r\n      };\r\n      vm.$store.dispatch(\"addStorage\", vm.tempProduct);\r\n      vm.$bus.$emit(\"messagePush\", \"已加入購物車\", \"success\");\r\n      vm.tempProduct = {};\r\n    },\r\n    deleteFav (item) {\r\n      // 從收藏中移除\r\n      const vm = this;\r\n      const idNum = vm.favItemsId.indexOf(item.id);\r\n      vm.favItems.splice(idNum, 1);\r\n      vm.favItemsId.splice(idNum, 1);\r\n      localStorage.setItem(\"favItems\", JSON.stringify(vm.favItems));\r\n      localStorage.setItem(\"favItemsId\", JSON.stringify(vm.favItemsId));\r\n    }\r\n  },\r\n  created () {\r\n    this.len = this.favItems.length;\r\n  },\r\n  beforeUpdate () {\r\n    this.len = this.favItems.length;\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Collect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Collect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Collect.vue?vue&type=template&id=06fe3b0e&\"\nimport script from \"./Collect.vue?vue&type=script&lang=js&\"\nexport * from \"./Collect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}